<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="data:;base64,=">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <title>Document</title>
    <style>
        div{
            transition:all 2s ease ;
            width:300px;
            height:30px;
            overflow:hidden;
        }
    </style>
</head>
<body>
    <form >
        <div>类型：<input type='text' name='type' enctype='multipart/form-data'/></div>
        <div>姓名：<input type='text' name='userName'/></div>
    </form>
    <button onclick='post()'>提交</button>
</body>
<script>
    function post(){
        let xhr = new XMLHttpRequest();
        xhr.open('POST','http://localhost:3000/user/getinfo');
        let form = new FormData(document.querySelector('form'));
        // xhr.setRequestHeader('Content-Type','multipart/form-data');
        xhr.withCredentials = true;
        xhr.setRequestHeader('x-token','123456');
        xhr.send(form);
        xhr.onload = (x)=>{
            console.log(xhr.responseText);
        }
    }

    // function post(){
    //     axios.post('http://localhost:3000/user/getinfo', {
    //         type: '4',
    //         userName:'张三'
    //     })
    //     .then(function (response) {
    //         console.log(response);
    //     })
    //     .catch(function (error) {
    //         console.log(error);
    //     });
    // }
    // function post(){
    //     const form = new FormData(document.querySelector('form'));
    //     fetch('/user/getinfo', {
    //         method: 'POST',
    //         body: form
    //     }).then(response => response.json())
    //     .then(result => {
    //     console.log('Success:', result);
    //     })
    //     .catch(error => {
    //     console.error('Error:', error);
    //     });
    // }
    
</script>    
</html>